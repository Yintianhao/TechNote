## 计算机网络
1，局域网，范围小，自己花钱买设备，带宽固定
2，广域网，距离远，花钱买带宽/服务
3，internet
     P:X.X.X.X
子网掩码:X.0.0.0 说明前面一位点网络部分，后面三位是主机部分，提高IP利用率

## OSI参考模型
应用层，产生网络流量的程序
表示层 在传输之前是否进行加密或者压缩处理 二进制/ASCII
会话层 session (netstat -n)查木马
传输层 可靠传输，不可靠传输 
网络层 负责选择最佳路径  规划IP地址
数据链路层 帧的开始和结束（透明传输，插入转义位和去除，差错检验）
物理层 接口标准 电器标准

## 五层模型 
应用层
运输层
网络层
数据链路层
物理层

## TCP、IP体系：四层协议
应用层（TELNET，FTP，SMTP）
任务是通过应用进程间的交互来完成特定网络应用，定义应用进程间的通信和交互的规则，如域名系统DNS， HHTP系统已，电子邮件的 SMTP协议
运输层（ TCP、UDP）
任务是负责两台主机进程之间的通信提供通用的传输服务，多个应用可以使用同一个运输层服务，运输层可以复用和分用
TCP：传输控制协议，提供面向连接的，可靠的数据传输服务
UDP：用户数据协议，提供无连接的，尽最大可能的数据传输服务。
两个的特点：
UDP：无连接的，使用尽最大努力交付，不保证可靠交互，主机不维持复杂的连接状态
UDP面向报文
UDP没有拥塞控制，所以网络出现通塞不会使源主机的发送速率降低，对实时应用有用
UDP支持一对一，一对多，多对多
首部开销小，只有八个字节，而TCP有20个

TCP：
面向连接
每一次TCP连接只能有两个端点，每一条TCP连接只能是点到点的
提供可靠交付的服务，通过TCP连接传送的数据无差错，不丢失，不重复，并且按序到达
提供全双工通信， TCP允许通信双方的应用进程在任何时候都能发送数据，连接的两端都设置发送和接受缓存
面向字节流，流是指流入进程或者从进程流出的字节序列

网际层IP（网络层）：
任务是选择合适的网间路由和交换节点，确保数据及时传送，把运输层产生的报文段和用户数据报封装成分组和包进行传送，即 IP数据报

网络接口层

为什么要进行三次握手
目的是建立可靠的通信信道，简单的来说就是数据的发送和接受，最主要的目的就是双方确认自己和对方发送和接收都是正常的。
第一次握手，发送方什么都不能确认，接收方确认了对方发送正常
第二次握手，发送方确认了自己发送正常，接受正常，对方发送正常，接收正常，接收方确认了自己接收正常，对方发送正常 
第三次握手，发送方确认了自己发送正常，接收正常，对方发送正常，接收正常，接收方确认自己发送正常，接收正常，对方发送接收正常。

传回SYN的目的：（第二次握手）
告诉发送端，自己接收到的信息确实是你所发的。
SYN是 TCP/IP建立连接的握手信号。客户机发送SYN消息，服务器用SYN-ACK应答表示接收到了这个消息，最后客户机再以ACK表示确认发来的数据已经接收无误。

传ACK的目的：（第三次握手）
防止已经失效的连接请求报文突然传送到服务器。 假设第一次握手因为某种原因未能到达服务器，但是并没有丢失，于是客户端再次进行第一次握手，两次握手建立连接后，当时的第一次的请求到达服务器，此时就会再一次建立连接。


断开 TCP连接的时候进行的第四次挥手
发送端发送一个FIN，用来关闭客户端到服务器的数据传送
服务器收到FIN 发回一个aCK 确认序号为收到的序号+1 和SYN一样，一个 FIN占用一个序号
服务器关闭与发送端的连接，发送一个 FIN给发送端
发送端发送 ACK报文确认，并将确认序号的设置为收到的序号+！
（https://blog.csdn.net/qzcsu/article/details/72861891）

客户端最后等待2MSL：
第一是保证客户端发送的最后一个ACK报文能够到达服务器，对服务器来说，如果已经发送FIN和ACK来让请求断开，客户端还没回应，那么服务器就会重传一次
第二是类似于三次握手中的最后一次的作用， 在两个SML的时间内可以使得本连接持续时间内所产生的报文段从网络中消失


TCP协议保证可靠传输
1，应用数据被分割成TCP认为最合适的数据块
2，TCP对每一个包进行编号，接收方对数据包会进行排序，把有序数据传送到应用层
3，校验和，目的是检测数据在传输过程中的任何变化，如果检验到有差错，会丢弃这个报文段，并不确认收到这个报文段
4，TCP接收端会丢弃重复的数据
5，流量控制，每一方都有缓冲区，TCP的接收端只允许发送端发送接收端缓冲区能够接纳的数据，当来不及接收时，会指示发送端降低速率，防止包丢失。即滑动窗口协议
6，拥塞控制，拥塞时减少数据的发送
7，停止等待协议，每次发送一个分组就停止发送等待对方确认，收到确认后再发，超时重传。

自动重传ARQ和连续ARQ
自动重传 ARQ：
一段时间未收到确认即重传之前发送过的分组，每发送完都定义一个计时器，重传时间比数据在分组传输的平均往返时间更长
优点：简单。缺点：信道利用率低

连续ARQ：
提供信道利用率，发送方维护一个窗口，凡是在窗口内的可以连续发送出去，而不需要等待确认，采用累计确认，即接收到达的最后一个分组发送确认。
优点：信道利用率高，容易实现
缺点：不能向发送方反映出已经正确收到的所有分组的信息

滑动窗口：实现流量控制

拥塞控制是为了防止过多的数据注入到网络，使得网络中的路由器或者链路过载

拥塞控制是一个全局性的过程，涉及所有的主机，路由器，而流量控制是端对端的问题

从浏览器输入URL到展示网页的过程中发生了什么

1，浏览器查找域名IP DNS查找：浏览器缓存--》路由器缓存--》DNS缓存

2，浏览器向Web服务器发送HTTP请求，Cookies同时发送过去

3，服务器处理请求，根据请求，参数，以及Cookies，生成一个 HTML响应

4，服务器发回一个 HTML响应 

5，浏览器显示 HTML 

2-----》5之间的协议：
TCP，建立连接，将HTTP请求报文分割成报文段按序号发送给对方，将响应报文重组
IP，发送数据在网络层使用IP协议，搜索对方地址
OPSF： IP数据包在路由器之间，路由选择使用 OPSF协议
ARP。路由器和服务器通信，需要将 MAC转为 IP地址，使用  ARP协议
HTTP协议：生成针对目标web服务器的HTTP请求报文。将web服务器请求的内筒进行处理
