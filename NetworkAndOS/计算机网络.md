## 物理层   
通信方式：   
单工，单向传输    
半双工：双向交替传输    
全双工：双向同时传输    

## 链路层     
封装成帧，将IP数据报加上头

部和尾部，用于标记帧的开始和结束。     
透明传输：如果帧当中有和尾部和首部一样的内容，则在该位置前面插入转义字符，如果数据部分出现转义字符，则在转义字符前面再加一个转义字符，在接收端接收端处理后还原数据。    
差错校验：CRC循环冗余校验。     

### 信道的分类     
广播信道：一对多。使用信道复用技术和CSMA/CD协议   
点对点信道，一对一，使用PPP协议     

频分复用：   
所有主机在相同的时间内占用不同的频率带宽资源。     
时分复用：在不同的时间内占用相同的频率来      
统计时分复用：不固定用户在时分复用帧的位置，只要数据集中起来就组成统计时分复用帧进行传输。     

波分复用：   
用光的波长来表示所使用的光载波     

码分复用：   
每个用户分配一个m bit的码片，并且所有的码片都是正交的，拥有码片的用户发送比特1时就发送码片，发送0的时候就发送该码片的反码，接收端接收码片是对接收到的数据进行内积时，结果是0的为其他用户发送的数据，为1的是用户发送的比特1，为-1的是发送的比特0    
所以码分复用发送的数据量是原来的n倍。     

### 几个协议      
CSMA/CD协议：      
用于载波监听多点接入，碰撞检测     
截断二进制指数退避算法：当碰撞时，站点停止发送，等待一段时间再发送，从0,1,.....2^k-1随机取出一个数，记做r，然后取r倍的争用期来作为等待时间、      

PPP：    
用于用户与ISP进行的通信所使用的数据链路层协议    
帧格式：F+A+C+协议+IP数据报+FCS+F      
F表示帧的界定符    
AC字段没意义   
FCS是CRC校验序列   
总长度<1500    

## 网络层     
配套协议：   
ARP，地址解析协议    
网际控制报文协议，ICMP   
网际组管理协议，IGMP    
        
### IP数据报     
首部+尾部     
首部：     
版本（四位），4/6代表Ipv4，Ipv6     
首部长度（四位）：最大值为15，值为1则代表一个32位字的长度，固定部分长度是20字节，(60-20)/8=5，所有最小位5，如果可选字段不是四字节的整数倍，就用尾部的填充部分填充。     
区分服务：   
总长度：首+尾     
生存时间：为了防止无法交互的数据报始终在网络中，为0则丢弃数据     
协议：指出交往那种协议       
首部校验和：    
标识:在数据报长度过长而发生分片的情况下，相同数据报的不同分片具有相同的标识符     
片偏移：用于分片的情况, 单位为8字节     

### 地址编址      
1，分类：ABCDE类地址     
2，子网划分：主机号字段中拿出一部分作为子网号，把两级IP地址分为了三级。外部网络无法感知到子网的存在。      
3，无分类：网络前缀+主机，IP地址之后加上网络前缀长度。如X.X.X.X/20表示前面二十位表示网络前缀。      
解析协议ARP：实现由AP地址得到MAC地址，在传输中数据报的源地址和目的地址不变，MAC地址的改变随着链路的改变而改变。       
具体过程：主机A如果知道主机B的地址，但是ARP高速缓存中没有找到IP地址到MAC地址的映射，此时A以广播的形式发送ARP分组，主机B收到该请求后发送ARP响应分组给主机A告知它的MAC地址 ，随后A将此MAC地址写入ARP缓存。       

网际控制报文协议ICMP的应用：      
Ping,测试连通性      
traceroute，跟踪一个分组从源点到重点所经过的路径。（数据报封装的是UDP用户数据报）   

### 路由器的功能     
路由选择和分组转发      
路由选择协议：自适应的一种协议，分为两大类:       
自治系统内部：RIP和OSPF     
自治系统之间：BGP      
      
 内部网关RIP：基于距离向量，直连跳数为1，不能超过15，开销小实现简单，但是有最大距离的限制           
 OSPF：开放最短路径协议。向系统内所有路由器君发送信息，发送信息内容是自己与相邻路由器的链路状态，当链路状态发生改变时候发送信息。     

