## 内存模型

### 主内存和工作内存

内存模型设计出来的目的是定义变量存储到内存和从内存中取出的底层细节，变量是实例字段，静态字段和构成数组对象的元素，是线程共享的变量，这里面不包括局部变量，方法参数等私有变量，因为他们不存在竞争。

- 主内存

  Java虚拟机规定所有的变量都存储在主内存中，主内存和物理硬件中的主内存是两个概念，这里的主内存只是虚拟机内存的一部分。

- 工作内存

  每个线程都有自己的工作内存，当中保留这个线程使用的变量的主内存副本，线程对变量的操作必须在工作内存中进行，而不是直接操作主内存。

